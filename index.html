<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Polyline Animation</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="glavni">
    <canvas id="canvas" width="484" height="484"></canvas>
    <img src="30 by 30 orthogonal maze (5).svg" id="slika">
  </div>
  <div id="controls">
    <input type="color" id="izbira" value="#ff0000">
    <button id="speedBtn">Speed: Normal</button>
    <button id="startBtn">Start Drawing</button>
  </div>

  <script>
    var xValues = [234, 234, 250, 250, 218, 218, 202, 202, 186, 186, 218, 218, 234, 234, 218, 
      218, 234, 234, 250, 250, 266, 266, 282, 282, 266, 266, 250, 250, 234, 234, 
      202, 202, 170, 170, 202, 202, 186, 186, 202, 202, 186, 186, 170, 170, 234,
      234, 218, 218, 202, 202, 186, 186, 170, 170, 154, 154, 138, 138, 122, 122,
      138, 138, 154, 154, 186, 186, 202, 202, 250, 250];

    var yValues = [2, 10, 10, 26, 26, 10, 10, 26, 26, 42, 42, 74, 74, 90, 90, 106,
      106, 122, 122, 106, 106, 122, 122, 202, 202, 186, 186, 170, 170, 250, 
      250, 234, 234, 266, 266, 282, 282, 298, 298, 314, 314, 330, 330, 346, 346,
      410, 410, 442, 442, 426, 426, 410, 410, 394, 394, 426, 426, 442, 442, 458,
      458, 474, 474, 442, 442, 458, 458, 474, 474, 482, 482];

    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');
    var currentIndex = 0;
    var speed = 100;  // Default speed (Normal)
    var drawing = false;

    function drawLineSegment(x1, y1, x2, y2, color) {
      ctx.strokeStyle = color;
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(x1, y1);
      ctx.lineTo(x2, y2);
      ctx.stroke();
    }

    function animateLine() {
      if (!drawing || currentIndex >= xValues.length - 1) return;
      var color = document.getElementById("izbira").value;
      drawLineSegment(xValues[currentIndex], yValues[currentIndex], xValues[currentIndex + 1], yValues[currentIndex + 1], color);
      currentIndex++;
      setTimeout(animateLine, speed);
    }

    document.getElementById("startBtn").addEventListener("click", function() {
      ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear canvas
      currentIndex = 0;
      drawing = true;
      animateLine();
    });

    document.getElementById("speedBtn").addEventListener("click", function() {
      if (speed === 100) {
        speed = 50; // Fast
        this.textContent = "Speed: Fast";
      } else if (speed === 50) {
        speed = 200; // Slow
        this.textContent = "Speed: Slow";
      } else {
        speed = 100; // Normal
        this.textContent = "Speed: Normal";
      }
    });
  </script>
</body>
</html>
